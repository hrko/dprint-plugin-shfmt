[tools]
"aqua:tinygo-org/tinygo" = "0.40.1"
dprint = "0.51.1"
go = "1.25.7"
golangci-lint = "2.10.1"

[tasks.fmt]
description = "Format Go sources"
run = "gofmt -w main.go"

[tasks.fmt-dprint]
description = "Format files with dprint"
run = "dprint fmt"

[tasks.test]
description = "Run Go tests"
run = "go test ./..."

[tasks.lint]
description = "Run golangci-lint"
run = "golangci-lint run ./..."

[tasks.build-wasm]
description = "Build wasm plugin"
run = "tinygo build -o plugin.wasm -target=wasm-unknown -scheduler=none -panic=trap -no-debug main.go"
